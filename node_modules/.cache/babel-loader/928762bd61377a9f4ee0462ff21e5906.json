{"ast":null,"code":"import axios from 'axios';\nimport { startLogout } from '../actions/auth';\nimport store from '../store/configureStore';\nimport history from '../utils/history';\nconst {\n  dispatch\n} = store();\nexport const authMiddleware = () => {\n  return axios.interceptors.response.use(response => {\n    return response;\n  }, error => {\n    if (error.response && error.response.status === 401) {\n      dispatch(startLogout());\n      history.push('/login');\n    }\n    return Promise.reject(error);\n  });\n};","map":{"version":3,"names":["axios","startLogout","store","history","dispatch","authMiddleware","interceptors","response","use","error","status","push","Promise","reject"],"sources":["C:/Users/USER/Documents/flexiMoney-web-app/src/utils/authMiddleware.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nimport { startLogout } from '../actions/auth';\r\nimport store from '../store/configureStore';\r\nimport history from '../utils/history';\r\n\r\nconst { dispatch } = store();\r\n\r\nexport const authMiddleware = () => {\r\n    return axios.interceptors.response.use(\r\n        (response) => {\r\n            return response;\r\n        },\r\n        (error) => {\r\n            if (error.response && error.response.status === 401) {\r\n                dispatch(startLogout());\r\n                history.push('/login');\r\n            } return Promise.reject(error);\r\n        }\r\n    );\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SAASC,WAAW,QAAQ,iBAAiB;AAC7C,OAAOC,KAAK,MAAM,yBAAyB;AAC3C,OAAOC,OAAO,MAAM,kBAAkB;AAEtC,MAAM;EAAEC;AAAS,CAAC,GAAGF,KAAK,CAAC,CAAC;AAE5B,OAAO,MAAMG,cAAc,GAAGA,CAAA,KAAM;EAChC,OAAOL,KAAK,CAACM,YAAY,CAACC,QAAQ,CAACC,GAAG,CACjCD,QAAQ,IAAK;IACV,OAAOA,QAAQ;EACnB,CAAC,EACAE,KAAK,IAAK;IACP,IAAIA,KAAK,CAACF,QAAQ,IAAIE,KAAK,CAACF,QAAQ,CAACG,MAAM,KAAK,GAAG,EAAE;MACjDN,QAAQ,CAACH,WAAW,CAAC,CAAC,CAAC;MACvBE,OAAO,CAACQ,IAAI,CAAC,QAAQ,CAAC;IAC1B;IAAE,OAAOC,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;EAClC,CACJ,CAAC;AACL,CAAC"},"metadata":{},"sourceType":"module"}