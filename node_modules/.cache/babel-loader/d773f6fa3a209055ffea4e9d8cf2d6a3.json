{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Documents\\\\flexiMoney-web-app\\\\src\\\\components\\\\transactionpinsettings\\\\TransactionPinSettings.jsx\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport axios from \"../../utils/axiosInstance\";\nimport { useToasts } from \"react-toast-notifications\";\nconst TransactionPinSettings = ({\n  title\n}) => {\n  const pinInputRefs = [useRef(), useRef(), useRef(), useRef()];\n  const confirmPinInputRefs = [useRef(), useRef(), useRef(), useRef()];\n  const [pin, setPin] = useState([]);\n  const [confirmPin, setConfirmPin] = useState([]);\n  const [loading, setLoading] = useState('');\n  const {\n    addToast\n  } = useToasts();\n  const [pinPayload, setPinPayload] = useState({\n    agent_id: \"\",\n    transaction_pin: \"\"\n  });\n  const TRANSACTION_PIN = \"/AgPin\";\n  useEffect(() => {\n    // Make API call to fetch user information\n    axios.get(\"/agent/userinfo\").then(response => {\n      setPinPayload({\n        ...pinPayload,\n        agent_id: response.data.data.agent.id\n      });\n    }).catch(error => {\n      console.error(\"Error fetching user information:\", error);\n    });\n  }, []);\n  const handleInputChange = (index, setValue, nextInputRef, e) => {\n    const {\n      value,\n      keyCode\n    } = e.target;\n    if (keyCode === 8) {\n      var _pinInputRefs;\n      // Clear the current input field when the delete key is pressed\n      setValue(prevPin => {\n        const newPin = [...prevPin];\n        newPin[index] = \"\";\n        return newPin;\n      });\n\n      // Move focus to the previous input field if there is one\n      if (index > 0 && ((_pinInputRefs = pinInputRefs[index - 1]) === null || _pinInputRefs === void 0 ? void 0 : _pinInputRefs.current)) {\n        pinInputRefs[index - 1].current.focus();\n      }\n    } else {\n      setValue(prevPin => {\n        const newPin = [...prevPin];\n        newPin[index] = value;\n\n        // Move focus to the next input field if there is one and the current input is not the last one\n        if (value !== \"\" && index < 3 && nextInputRef.current) {\n          nextInputRef.current.focus();\n        } else if (index === 3 && value !== \"\") {\n          // Move to the first input of the confirm PIN form when the last PIN input is filled\n          confirmPinInputRefs[0].current.focus();\n        }\n        return newPin;\n      });\n    }\n  };\n  const handleConfirmPinInputChange = (index, e) => {\n    const {\n      value\n    } = e.target;\n    setConfirmPin(prevConfirmPin => {\n      var _confirmPinInputRefs;\n      const newConfirmPin = [...prevConfirmPin];\n      newConfirmPin[index] = value;\n\n      // Move focus to the next input field if there is one\n      if (value !== \"\" && ((_confirmPinInputRefs = confirmPinInputRefs[index + 1]) === null || _confirmPinInputRefs === void 0 ? void 0 : _confirmPinInputRefs.current)) {\n        confirmPinInputRefs[index + 1].current.focus();\n      }\n      return newConfirmPin;\n    });\n  };\n  const handleTransactionPin = async () => {\n    // Check if pin and confirmPin are not the same\n    setLoading(true);\n    if (pin.join(\"\") !== confirmPin.join(\"\")) {\n      // Display an error toast if pin and confirmPin do not match\n      addToast(\"PIN and Confirm PIN do not match!\", {\n        appearance: \"error\",\n        autoDismiss: true,\n        autoDismissTimeout: 3000 // milliseconds\n      });\n\n      setLoading(false);\n      return; // Stop further processing\n    }\n\n    // Check if either pin or confirmPin is empty\n    if (pin.join(\"\") === \"\" || confirmPin.join(\"\") === \"\") {\n      addToast(\"Please enter both PIN and Confirm PIN\", {\n        appearance: \"error\",\n        autoDismiss: true,\n        autoDismissTimeout: 3000 // milliseconds\n      });\n\n      setLoading(false);\n      return; // Stop further processing\n    }\n\n    // At this point, pin and confirmPin are the same, and both are not empty\n    const transactionPin = {\n      agent_id: pinPayload.agent_id,\n      transaction_pin: pin.join(\"\")\n    };\n    try {\n      let data = await axios.post(TRANSACTION_PIN, transactionPin);\n      addToast(\"Transaction pin updated successfully!\", {\n        appearance: \"success\",\n        autoDismiss: true,\n        autoDismissTimeout: 3000 // milliseconds\n      });\n    } catch (error) {\n      console.error(\"Error saving changes:\", error);\n      if (error.response) {\n        // The request was made and the server responded with a status code\n        const {\n          data,\n          status\n        } = error.response;\n        console.error(`HTTP error! Status: ${status}, Message: ${data.message}`);\n\n        // Handle different status codes\n        switch (status) {\n          case 400:\n            // Bad Request (400)\n            if (data && data.errors) {\n              Object.values(data.errors).flat().forEach(errorMessage => {\n                addToast(`${errorMessage}`, {\n                  appearance: 'error',\n                  autoDismiss: true,\n                  autoDismissTimeout: 3000\n                });\n              });\n            } else if (status && data && data.message) {\n              addToast(`${data.message}`, {\n                appearance: 'error',\n                autoDismiss: true,\n                autoDismissTimeout: 3000\n              });\n            } else {\n              addToast('Bad Request. Please check your input.', {\n                appearance: 'error',\n                autoDismiss: true,\n                autoDismissTimeout: 3000\n              });\n            }\n            break;\n          case 500:\n            // Internal Server Error (500)\n            addToast('Internal Server Error. Please try again later.', {\n              appearance: 'error',\n              autoDismiss: true,\n              autoDismissTimeout: 3000\n            });\n            break;\n          // Add more cases for other status codes as needed\n          default:\n            // Display an error toast with the API response message\n            addToast(data.message || 'An unexpected error occurred.', {\n              appearance: \"error\",\n              autoDismiss: true,\n              autoDismissTimeout: 3000\n            });\n        }\n      } else if (error.request) {\n        // The request was made but no response was received\n        console.error(\"No response received from the server.\");\n        addToast(\"No response from the server. Please try again.\", {\n          appearance: \"error\",\n          autoDismiss: true,\n          autoDismissTimeout: 3000\n        });\n      } else {\n        // Something happened in setting up the request that triggered an error\n        console.error(\"An unexpected error occurred:\", error.message);\n\n        // Display an error toast with the API response message if available\n        addToast(error.message || 'An unexpected error occurred.', {\n          appearance: \"error\",\n          autoDismiss: true,\n          autoDismissTimeout: 3000\n        });\n      }\n    } finally {\n      setLoading(false); // This ensures that setLoading(false) is executed regardless of success or failure\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \" mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex justify-center align-center\",\n    id: \"pin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"md:py-20 md:px-40 px-20 text-2xl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-col md:gap-20 items-center mb-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-col my-4 md:my-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 15\n    }\n  }, \"Enter Pin\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"flex space-x-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 15\n    }\n  }, pinInputRefs.map((ref, index) => /*#__PURE__*/React.createElement(\"input\", {\n    key: index,\n    placeholder: \"*\",\n    type: \"text\",\n    className: \"md:w-[66px] w-[40px] md:h-[69px] h-[53px] border border-gray-300 rounded text-center md:text-4xl text-2xl\",\n    maxLength: \"1\",\n    onChange: e => handleInputChange(index, setPin, pinInputRefs[index + 1], e),\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 19\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-col  my-4 md:my-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 15\n    }\n  }, \"Confirm Pin\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"flex space-x-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 15\n    }\n  }, confirmPinInputRefs.map((ref, index) => /*#__PURE__*/React.createElement(\"input\", {\n    key: index,\n    placeholder: \"*\",\n    type: \"text\",\n    className: \"md:w-[66px] w-[40px] md:h-[69px] h-[53px] border border-gray-300 rounded text-center md:text-4xl text-2xl\",\n    maxLength: \"1\",\n    onChange: e => handleConfirmPinInputChange(index, e),\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 19\n    }\n  }))))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    onClick: handleTransactionPin,\n    className: `bg-color1  rounded-lg h-14 w-full text-white mx-auto relative ${loading ? 'opacity-50 pointer-events-none' : ''}`,\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 11\n    }\n  }, loading && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 17\n    }\n  })), loading ? 'Saving...' : 'Save'))));\n};\nexport default TransactionPinSettings;","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","useToasts","TransactionPinSettings","title","pinInputRefs","confirmPinInputRefs","pin","setPin","confirmPin","setConfirmPin","loading","setLoading","addToast","pinPayload","setPinPayload","agent_id","transaction_pin","TRANSACTION_PIN","get","then","response","data","agent","id","catch","error","console","handleInputChange","index","setValue","nextInputRef","e","value","keyCode","target","_pinInputRefs","prevPin","newPin","current","focus","handleConfirmPinInputChange","prevConfirmPin","_confirmPinInputRefs","newConfirmPin","handleTransactionPin","join","appearance","autoDismiss","autoDismissTimeout","transactionPin","post","status","message","errors","Object","values","flat","forEach","errorMessage","request","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","ref","key","placeholder","type","maxLength","onChange","onClick","disabled"],"sources":["C:/Users/USER/Documents/flexiMoney-web-app/src/components/transactionpinsettings/TransactionPinSettings.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport axios from \"../../utils/axiosInstance\";\r\nimport { useToasts } from \"react-toast-notifications\";\r\n\r\n\r\n\r\nconst TransactionPinSettings = ({ title }) => {\r\n    const pinInputRefs = [useRef(), useRef(), useRef(), useRef()];\r\n    const confirmPinInputRefs = [useRef(), useRef(), useRef(), useRef()];\r\n    const [pin, setPin] = useState([]);\r\n    const [confirmPin, setConfirmPin] = useState([]);\r\n    const [loading, setLoading] = useState('');\r\n    const { addToast } = useToasts();\r\n\r\n\r\n    const [pinPayload, setPinPayload] = useState({\r\n        agent_id: \"\",\r\n        transaction_pin: \"\",\r\n      });\r\n\r\n      const TRANSACTION_PIN = \"/AgPin\";\r\n\r\n      useEffect(() => {\r\n        // Make API call to fetch user information\r\n        axios\r\n          .get(\"/agent/userinfo\")\r\n          .then((response) => {\r\n           \r\n    \r\n            setPinPayload({\r\n              ...pinPayload,\r\n              agent_id: response.data.data.agent.id,\r\n            });\r\n          })\r\n          .catch((error) => {\r\n            console.error(\"Error fetching user information:\", error);\r\n          });\r\n      }, []);\r\n      const handleInputChange = (index, setValue, nextInputRef, e) => {\r\n        const { value, keyCode } = e.target;\r\n      \r\n        if (keyCode === 8) {\r\n          // Clear the current input field when the delete key is pressed\r\n          setValue((prevPin) => {\r\n            const newPin = [...prevPin];\r\n            newPin[index] = \"\";\r\n            return newPin;\r\n          });\r\n      \r\n          // Move focus to the previous input field if there is one\r\n          if (index > 0 && pinInputRefs[index - 1]?.current) {\r\n            pinInputRefs[index - 1].current.focus();\r\n          }\r\n        } else {\r\n          setValue((prevPin) => {\r\n            const newPin = [...prevPin];\r\n            newPin[index] = value;\r\n      \r\n            // Move focus to the next input field if there is one and the current input is not the last one\r\n            if (value !== \"\" && index < 3 && nextInputRef.current) {\r\n              nextInputRef.current.focus();\r\n            } else if (index === 3 && value !== \"\") {\r\n              // Move to the first input of the confirm PIN form when the last PIN input is filled\r\n              confirmPinInputRefs[0].current.focus();\r\n            }\r\n      \r\n            return newPin;\r\n          });\r\n        }\r\n      };\r\n      \r\n      \r\n  const handleConfirmPinInputChange = (index, e) => {\r\n    const { value } = e.target;\r\n    setConfirmPin((prevConfirmPin) => {\r\n      const newConfirmPin = [...prevConfirmPin];\r\n      newConfirmPin[index] = value;\r\n\r\n      // Move focus to the next input field if there is one\r\n      if (value !== \"\" && confirmPinInputRefs[index + 1]?.current) {\r\n        confirmPinInputRefs[index + 1].current.focus();\r\n      }\r\n\r\n      return newConfirmPin;\r\n    });\r\n  };\r\n  const handleTransactionPin = async () => {\r\n    // Check if pin and confirmPin are not the same\r\n    setLoading(true)\r\n    if (pin.join(\"\") !== confirmPin.join(\"\")) {\r\n      // Display an error toast if pin and confirmPin do not match\r\n      addToast(\"PIN and Confirm PIN do not match!\", {\r\n        appearance: \"error\",\r\n        autoDismiss: true,\r\n        autoDismissTimeout: 3000, // milliseconds\r\n      });\r\n      setLoading(false)\r\n      return; // Stop further processing\r\n    }\r\n  \r\n    // Check if either pin or confirmPin is empty\r\n    if (pin.join(\"\") === \"\" || confirmPin.join(\"\") === \"\") {\r\n      addToast(\"Please enter both PIN and Confirm PIN\", {\r\n        appearance: \"error\",\r\n        autoDismiss: true,\r\n        autoDismissTimeout: 3000, // milliseconds\r\n      });\r\n      setLoading(false)\r\n      return; // Stop further processing\r\n    }\r\n  \r\n    // At this point, pin and confirmPin are the same, and both are not empty\r\n    const transactionPin = {\r\n      agent_id: pinPayload.agent_id,\r\n      transaction_pin: pin.join(\"\"),\r\n    };\r\n  \r\n    try {\r\n      let data = await axios.post(TRANSACTION_PIN, transactionPin);\r\n      addToast(\"Transaction pin updated successfully!\", {\r\n        appearance: \"success\",\r\n        autoDismiss: true,\r\n        autoDismissTimeout: 3000, // milliseconds\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error saving changes:\", error);\r\n  \r\n      if (error.response) {\r\n        // The request was made and the server responded with a status code\r\n        const { data, status } = error.response;\r\n        console.error(`HTTP error! Status: ${status}, Message: ${data.message}`);\r\n        \r\n        // Handle different status codes\r\n        switch (status) {\r\n          case 400:\r\n            // Bad Request (400)\r\n            if (data && data.errors) {\r\n              Object.values(data.errors).flat().forEach(errorMessage => {\r\n                addToast(`${errorMessage}`, {\r\n                  appearance: 'error',\r\n                  autoDismiss: true,\r\n                  autoDismissTimeout: 3000,\r\n                });\r\n              });\r\n            } else if (status && data && data.message) {\r\n              addToast(`${data.message}`, {\r\n                appearance: 'error',\r\n                autoDismiss: true,\r\n                autoDismissTimeout: 3000,\r\n              });\r\n            } else {\r\n              addToast('Bad Request. Please check your input.', {\r\n                appearance: 'error',\r\n                autoDismiss: true,\r\n                autoDismissTimeout: 3000,\r\n              });\r\n            }\r\n            break;\r\n          case 500:\r\n            // Internal Server Error (500)\r\n            addToast('Internal Server Error. Please try again later.', {\r\n              appearance: 'error',\r\n              autoDismiss: true,\r\n              autoDismissTimeout: 3000,\r\n            });\r\n            break;\r\n          // Add more cases for other status codes as needed\r\n          default:\r\n            // Display an error toast with the API response message\r\n            addToast(data.message || 'An unexpected error occurred.', {\r\n              appearance: \"error\",\r\n              autoDismiss: true,\r\n              autoDismissTimeout: 3000,\r\n            });\r\n        }\r\n      } else if (error.request) {\r\n        // The request was made but no response was received\r\n        console.error(\"No response received from the server.\");\r\n  \r\n        addToast(\"No response from the server. Please try again.\", {\r\n          appearance: \"error\",\r\n          autoDismiss: true,\r\n          autoDismissTimeout: 3000,\r\n        });\r\n      } else {\r\n        // Something happened in setting up the request that triggered an error\r\n        console.error(\"An unexpected error occurred:\", error.message);\r\n  \r\n        // Display an error toast with the API response message if available\r\n        addToast(error.message || 'An unexpected error occurred.', {\r\n          appearance: \"error\",\r\n          autoDismiss: true,\r\n          autoDismissTimeout: 3000,\r\n        });\r\n      }\r\n      } finally {\r\n      setLoading(false); // This ensures that setLoading(false) is executed regardless of success or failure\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\" mx-auto\">\r\n      <div className=\"flex justify-center align-center\" id=\"pin\">\r\n           <div className=\"md:py-20 md:px-40 px-20 text-2xl\">\r\n          <div className=\"flex flex-col md:gap-20 items-center mb-8\">\r\n            <div className=\"flex flex-col my-4 md:my-0\">\r\n              <p>Enter Pin</p>\r\n              <form className=\"flex space-x-4\">\r\n                {pinInputRefs.map((ref, index) => (\r\n                  <input\r\n                    key={index}\r\n                    placeholder=\"*\"\r\n                    type=\"text\"\r\n                    className=\"md:w-[66px] w-[40px] md:h-[69px] h-[53px] border border-gray-300 rounded text-center md:text-4xl text-2xl\"\r\n                    maxLength=\"1\"\r\n                    onChange={(e) =>\r\n                      handleInputChange(\r\n                        index,\r\n                        setPin,\r\n                        pinInputRefs[index + 1],\r\n                        e\r\n                      )\r\n                    }\r\n                    ref={ref}\r\n                  />\r\n                ))}\r\n              </form>\r\n            </div>\r\n            <div className=\"flex flex-col  my-4 md:my-0\">\r\n              <p>Confirm Pin</p>\r\n              <form className=\"flex space-x-4\">\r\n                {confirmPinInputRefs.map((ref, index) => (\r\n                  <input\r\n                    key={index}\r\n                    placeholder=\"*\"\r\n                    type=\"text\"\r\n                    className=\"md:w-[66px] w-[40px] md:h-[69px] h-[53px] border border-gray-300 rounded text-center md:text-4xl text-2xl\"\r\n                    maxLength=\"1\"\r\n                    onChange={(e) => handleConfirmPinInputChange(index, e)}\r\n                    ref={ref}\r\n                  />\r\n                ))}\r\n              </form>\r\n            </div>\r\n          </div>\r\n\r\n         \r\n          <button\r\n            type=\"submit\"\r\n            onClick={handleTransactionPin}\r\n            className={`bg-color1  rounded-lg h-14 w-full text-white mx-auto relative ${loading ? 'opacity-50 pointer-events-none' : ''\r\n              }`}\r\n            disabled={loading}\r\n          >\r\n            {loading && (\r\n              <div className=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2\">\r\n                <div className=\"loader\"></div>\r\n              </div>\r\n            )}\r\n            {loading ? 'Saving...' : 'Save'}\r\n          </button>\r\n        </div>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TransactionPinSettings\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}