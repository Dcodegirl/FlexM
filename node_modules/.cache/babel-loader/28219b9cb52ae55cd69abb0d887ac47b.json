{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Documents\\\\flexiMoney-web-app\\\\src\\\\features\\\\logs\\\\aggregator\\\\index.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"../../../utils/axiosInstance\";\nimport WalletInfo from \"../../dashboard/WalletInfo\";\nimport WalletBreakDown from \"../../dashboard/WalleBreakdown\";\nimport WalletLogs from \"../wallet/WalletLog\";\nimport { useSelector } from 'react-redux';\nconst Users = () => {\n  const agentId = useSelector(state => {\n    var _state$auth$user;\n    return (_state$auth$user = state.auth.user) === null || _state$auth$user === void 0 ? void 0 : _state$auth$user.id;\n  });\n  const [totalBalance, setTotalBalance] = useState(0);\n  const [currentBalance, setCurrentBalance] = useState({\n    amount: 0,\n    growth_rate: 0\n  });\n  const [totalCashout, setTotalCashout] = useState({\n    amount: 0,\n    growth_rate: 0\n  });\n  const [totalDeposit, setTotalDeposit] = useState({\n    amount: 0,\n    growth_rate: 0\n  });\n  const [transactions, setTransactions] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get(\"/aggregtorwallet\", {\n          params: {\n            agent_id: agentId\n          }\n        });\n        const data = response.data.data;\n        setTotalBalance(parseFloat(data.current_bal.current_balance));\n        setCurrentBalance({\n          amount: parseFloat(data.current_bal.current_balance),\n          growth_rate: data.current_bal.rate\n        });\n        setTotalCashout({\n          amount: parseFloat(data.cashout.total_cashout),\n          growth_rate: data.cashout.rate\n        });\n        setTotalDeposit({\n          amount: parseFloat(data.deposit.total_deposit),\n          growth_rate: data.deposit.rate\n        });\n        setTransactions(data.transaction.data);\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n      }\n    };\n    fetchData();\n  }, [agentId]);\n  const formatAmount = amount => {\n    return amount === null || amount === void 0 ? void 0 : amount.toLocaleString(undefined, {\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2\n    });\n  };\n  const walletInfoProps = {\n    title: \"Aggregator's Wallet Balance\",\n    amount: `NGN ${formatAmount(totalBalance)}`\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(WalletInfo, {\n    walletInfoProp: walletInfoProps,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(WalletBreakDown, {\n    walletBalance: formatAmount(totalBalance),\n    currentBalance: formatAmount(currentBalance.amount),\n    totalCashout: formatAmount(totalCashout.amount),\n    totalDeposit: formatAmount(totalDeposit.amount),\n    currentGrowthRate: currentBalance.growth_rate,\n    totalCashoutGrowthRate: totalCashout.growth_rate,\n    totalDepositGrowthRate: totalDeposit.growth_rate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(WalletLogs, {\n    transactions: transactions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }));\n};\nexport default Users;","map":{"version":3,"names":["React","useEffect","useState","axios","WalletInfo","WalletBreakDown","WalletLogs","useSelector","Users","agentId","state","_state$auth$user","auth","user","id","totalBalance","setTotalBalance","currentBalance","setCurrentBalance","amount","growth_rate","totalCashout","setTotalCashout","totalDeposit","setTotalDeposit","transactions","setTransactions","fetchData","response","get","params","agent_id","data","parseFloat","current_bal","current_balance","rate","cashout","total_cashout","deposit","total_deposit","transaction","error","console","formatAmount","toLocaleString","undefined","minimumFractionDigits","maximumFractionDigits","walletInfoProps","title","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","walletInfoProp","walletBalance","currentGrowthRate","totalCashoutGrowthRate","totalDepositGrowthRate"],"sources":["C:/Users/USER/Documents/flexiMoney-web-app/src/features/logs/aggregator/index.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"../../../utils/axiosInstance\";\r\nimport WalletInfo from \"../../dashboard/WalletInfo\";\r\nimport WalletBreakDown from \"../../dashboard/WalleBreakdown\";\r\nimport WalletLogs from \"../wallet/WalletLog\";\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst Users = () => {\r\n  const agentId = useSelector((state) => state.auth.user?.id);\r\n\r\n  const [totalBalance, setTotalBalance] = useState(0);\r\n  const [currentBalance, setCurrentBalance] = useState({ amount: 0, growth_rate: 0 });\r\n  const [totalCashout, setTotalCashout] = useState({ amount: 0, growth_rate: 0 });\r\n  const [totalDeposit, setTotalDeposit] = useState({ amount: 0, growth_rate: 0 });\r\n  const [transactions, setTransactions] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          \"/aggregtorwallet\",\r\n          {\r\n            params: {\r\n              agent_id: agentId,\r\n            },\r\n          }\r\n        );\r\n\r\n        const data = response.data.data;\r\n        setTotalBalance(parseFloat(data.current_bal.current_balance));\r\n        setCurrentBalance({\r\n          amount: parseFloat(data.current_bal.current_balance),\r\n          growth_rate: data.current_bal.rate,\r\n        });\r\n        setTotalCashout({\r\n          amount: parseFloat(data.cashout.total_cashout),\r\n          growth_rate: data.cashout.rate,\r\n        });\r\n        setTotalDeposit({\r\n          amount: parseFloat(data.deposit.total_deposit),\r\n          growth_rate: data.deposit.rate,\r\n        });\r\n        setTransactions(data.transaction.data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching data:\", error);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [agentId]);\r\n\r\n  const formatAmount = (amount) => {\r\n    return amount?.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 });\r\n  };\r\n\r\n  const walletInfoProps = {\r\n    title: \"Aggregator's Wallet Balance\",\r\n    amount: `NGN ${formatAmount(totalBalance)}`,\r\n  };\r\n\r\n  return (\r\n    <div className=''>\r\n      <WalletInfo walletInfoProp={walletInfoProps} />\r\n      <WalletBreakDown\r\n        walletBalance={formatAmount(totalBalance)}\r\n        currentBalance={formatAmount(currentBalance.amount)}\r\n        totalCashout={formatAmount(totalCashout.amount)}\r\n        totalDeposit={formatAmount(totalDeposit.amount)}\r\n        currentGrowthRate={currentBalance.growth_rate}\r\n        totalCashoutGrowthRate={totalCashout.growth_rate}\r\n        totalDepositGrowthRate={totalDeposit.growth_rate}\r\n      />\r\n      <WalletLogs transactions={transactions} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,8BAA8B;AAChD,OAAOC,UAAU,MAAM,4BAA4B;AACnD,OAAOC,eAAe,MAAM,gCAAgC;AAC5D,OAAOC,UAAU,MAAM,qBAAqB;AAC5C,SAASC,WAAW,QAAQ,aAAa;AAEzC,MAAMC,KAAK,GAAGA,CAAA,KAAM;EAClB,MAAMC,OAAO,GAAGF,WAAW,CAAEG,KAAK;IAAA,IAAAC,gBAAA;IAAA,QAAAA,gBAAA,GAAKD,KAAK,CAACE,IAAI,CAACC,IAAI,cAAAF,gBAAA,uBAAfA,gBAAA,CAAiBG,EAAE;EAAA,EAAC;EAE3D,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGd,QAAQ,CAAC,CAAC,CAAC;EACnD,MAAM,CAACe,cAAc,EAAEC,iBAAiB,CAAC,GAAGhB,QAAQ,CAAC;IAAEiB,MAAM,EAAE,CAAC;IAAEC,WAAW,EAAE;EAAE,CAAC,CAAC;EACnF,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGpB,QAAQ,CAAC;IAAEiB,MAAM,EAAE,CAAC;IAAEC,WAAW,EAAE;EAAE,CAAC,CAAC;EAC/E,MAAM,CAACG,YAAY,EAAEC,eAAe,CAAC,GAAGtB,QAAQ,CAAC;IAAEiB,MAAM,EAAE,CAAC;IAAEC,WAAW,EAAE;EAAE,CAAC,CAAC;EAC/E,MAAM,CAACK,YAAY,EAAEC,eAAe,CAAC,GAAGxB,QAAQ,CAAC,EAAE,CAAC;EAEpDD,SAAS,CAAC,MAAM;IACd,MAAM0B,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMzB,KAAK,CAAC0B,GAAG,CAC9B,kBAAkB,EAClB;UACEC,MAAM,EAAE;YACNC,QAAQ,EAAEtB;UACZ;QACF,CACF,CAAC;QAED,MAAMuB,IAAI,GAAGJ,QAAQ,CAACI,IAAI,CAACA,IAAI;QAC/BhB,eAAe,CAACiB,UAAU,CAACD,IAAI,CAACE,WAAW,CAACC,eAAe,CAAC,CAAC;QAC7DjB,iBAAiB,CAAC;UAChBC,MAAM,EAAEc,UAAU,CAACD,IAAI,CAACE,WAAW,CAACC,eAAe,CAAC;UACpDf,WAAW,EAAEY,IAAI,CAACE,WAAW,CAACE;QAChC,CAAC,CAAC;QACFd,eAAe,CAAC;UACdH,MAAM,EAAEc,UAAU,CAACD,IAAI,CAACK,OAAO,CAACC,aAAa,CAAC;UAC9ClB,WAAW,EAAEY,IAAI,CAACK,OAAO,CAACD;QAC5B,CAAC,CAAC;QACFZ,eAAe,CAAC;UACdL,MAAM,EAAEc,UAAU,CAACD,IAAI,CAACO,OAAO,CAACC,aAAa,CAAC;UAC9CpB,WAAW,EAAEY,IAAI,CAACO,OAAO,CAACH;QAC5B,CAAC,CAAC;QACFV,eAAe,CAACM,IAAI,CAACS,WAAW,CAACT,IAAI,CAAC;MACxC,CAAC,CAAC,OAAOU,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC9C;IACF,CAAC;IAEDf,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAAClB,OAAO,CAAC,CAAC;EAEb,MAAMmC,YAAY,GAAIzB,MAAM,IAAK;IAC/B,OAAOA,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAE0B,cAAc,CAACC,SAAS,EAAE;MAAEC,qBAAqB,EAAE,CAAC;MAAEC,qBAAqB,EAAE;IAAE,CAAC,CAAC;EAClG,CAAC;EAED,MAAMC,eAAe,GAAG;IACtBC,KAAK,EAAE,6BAA6B;IACpC/B,MAAM,EAAG,OAAMyB,YAAY,CAAC7B,YAAY,CAAE;EAC5C,CAAC;EAED,oBACEf,KAAA,CAAAmD,aAAA;IAAKC,SAAS,EAAC,EAAE;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACf1D,KAAA,CAAAmD,aAAA,CAAC/C,UAAU;IAACuD,cAAc,EAAEV,eAAgB;IAAAI,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eAC/C1D,KAAA,CAAAmD,aAAA,CAAC9C,eAAe;IACduD,aAAa,EAAEhB,YAAY,CAAC7B,YAAY,CAAE;IAC1CE,cAAc,EAAE2B,YAAY,CAAC3B,cAAc,CAACE,MAAM,CAAE;IACpDE,YAAY,EAAEuB,YAAY,CAACvB,YAAY,CAACF,MAAM,CAAE;IAChDI,YAAY,EAAEqB,YAAY,CAACrB,YAAY,CAACJ,MAAM,CAAE;IAChD0C,iBAAiB,EAAE5C,cAAc,CAACG,WAAY;IAC9C0C,sBAAsB,EAAEzC,YAAY,CAACD,WAAY;IACjD2C,sBAAsB,EAAExC,YAAY,CAACH,WAAY;IAAAiC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAClD,CAAC,eACF1D,KAAA,CAAAmD,aAAA,CAAC7C,UAAU;IAACmB,YAAY,EAAEA,YAAa;IAAA4B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CACtC,CAAC;AAEV,CAAC;AAED,eAAelD,KAAK"},"metadata":{},"sourceType":"module"}