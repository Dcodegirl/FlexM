{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Documents\\\\flexiMoney-web-app\\\\src\\\\components\\\\template\\\\Form\\\\forgotPassword\\\\index.jsx\";\nimport React, { useState } from 'react';\nimport { useGlobalContext } from '../../../../custom-hooks/Context';\nimport { NavLink, useHistory } from \"react-router-dom\";\nimport { useCustomToast } from '../../../toast/useCustomToast';\nimport axios from '../../../../utils/axiosInstance';\nfunction ForgotPass() {\n  const [phone, setPhone] = useState('');\n  const [successMessage, setSuccessMessage] = useState('');\n  const history = useHistory();\n  const showToast = useCustomToast();\n  const handleSubmit = async e => {\n    e.preventDefault(); // Prevent the default form submission behavior\n\n    try {\n      const response = await axios.post(\"/user/pass\", {\n        phone: phone\n      });\n      console.log(response);\n\n      // Check the API response and perform necessary actions\n      if (response.status === 201) {\n        setSuccessMessage(response.data.message);\n        // Assuming the API request is successful, navigate to otpVerification\n        history.push(\"/ResetPassword\");\n      } else {\n        setSuccessMessage(''); // Reset success message if not successful\n      }\n    } catch (error) {\n      if (error.response) {\n        // The request was made and the server responded with a status code\n        const {\n          data,\n          status\n        } = error.response;\n        console.error(`HTTP error! Status: ${status}, Message: ${data.message}`);\n\n        // Handle different status codes\n        switch (status) {\n          case 400:\n            // Bad Request (400)\n            if (data && data.errors) {\n              Object.values(data.errors).flat().forEach(errorMessage => {\n                showToast(`${errorMessage}`, 'error');\n              });\n            } else if (data && data.message) {\n              showToast(`${data.message}`, 'error');\n            } else {\n              showToast('Bad Request. Please check your input.', 'error');\n            }\n            break;\n          case 422:\n            // Bad Request (400)\n            if (data && data.errors) {\n              Object.values(data.errors).flat().forEach(errorMessage => {\n                showToast(`${errorMessage}`, 'error');\n              });\n            } else if (status && data && data.message) {\n              showToast(`${data.message}`, 'error');\n            } else {\n              showToast('Bad Request. Please check your input.', 'error');\n            }\n            break;\n          case 500:\n            // Internal Server Error (500)\n            showToast('Internal Server Error. Please try again later.', 'error');\n            break;\n          // Add more cases for other status codes as needed\n          default:\n            // Display an error toast with the API response message\n            showToast(data.message || 'An unexpected error occurred.', 'error');\n        }\n      } else if (error.request) {\n        // The request was made but no response was received\n        console.error(\"No response received from the server.\");\n        showToast(\"No response from the server. Please try again.\", 'error');\n      } else {\n        // Something happened in setting up the request that triggered an error\n        console.error(\"An unexpected error occurred:\", error.message);\n\n        // Display an error toast with the API response message if available\n        showToast(error.message || 'An unexpected error occurred.', {\n          appearance: \"error\",\n          autoDismiss: true,\n          autoDismissTimeout: 3000\n        });\n      }\n      setSuccessMessage('');\n    }\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"md:m-8 my-8 overflow-hidden\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"md:p-16 py-16 px-8  md:bg-bg-green md:border-[#00BD7A40] bg-white border-white rounded-3xl border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-[350px] mt-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-gray-700 text-sm mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 29\n    }\n  }, \"Phone\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    value: phone,\n    onChange: e => setPhone(e.target.value),\n    required: true,\n    placeholder: \"Enter your phone number\",\n    className: \"md:bg-bg-green bg-white border-[#D0D5DD] border rounded-lg h-14 w-full mb-6 p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex justify-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: handleSubmit,\n    className: \"bg-color1 border rounded-lg h-14 w-full text-white mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 33\n    }\n  }, \"Reset password\")), successMessage && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex justify-center mt-3 text-green-600\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 33\n    }\n  }, successMessage), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex justify-center mt-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/signin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-gray-500 text-xl font-xl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa-solid fa-left-long px-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 41\n    }\n  }), \"Back to Login\"))))))));\n}\nexport default ForgotPass;","map":{"version":3,"names":["React","useState","useGlobalContext","NavLink","useHistory","useCustomToast","axios","ForgotPass","phone","setPhone","successMessage","setSuccessMessage","history","showToast","handleSubmit","e","preventDefault","response","post","console","log","status","data","message","push","error","errors","Object","values","flat","forEach","errorMessage","request","appearance","autoDismiss","autoDismissTimeout","createElement","Fragment","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","target","required","placeholder","onClick","to"],"sources":["C:/Users/USER/Documents/flexiMoney-web-app/src/components/template/Form/forgotPassword/index.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useGlobalContext } from '../../../../custom-hooks/Context'; \r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\nimport { useCustomToast } from '../../../toast/useCustomToast';\r\nimport axios from '../../../../utils/axiosInstance';\r\n\r\nfunction ForgotPass() {\r\n    const [phone, setPhone] = useState('');\r\n    const [successMessage, setSuccessMessage] = useState('');\r\n    const history = useHistory();\r\n    const showToast = useCustomToast();\r\n\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault(); // Prevent the default form submission behavior\r\n\r\n        try {\r\n            const response = await axios.post(\"/user/pass\", { phone: phone });\r\n            console.log(response);\r\n\r\n            // Check the API response and perform necessary actions\r\n            if (response.status === 201) {\r\n                setSuccessMessage(response.data.message);\r\n                // Assuming the API request is successful, navigate to otpVerification\r\n                history.push(\"/ResetPassword\");\r\n              } else {\r\n                setSuccessMessage(''); // Reset success message if not successful\r\n            }\r\n        }\r\n        catch (error) {\r\n            if (error.response) {\r\n              // The request was made and the server responded with a status code\r\n              const { data, status } = error.response;\r\n              console.error(`HTTP error! Status: ${status}, Message: ${data.message}`);\r\n             \r\n              // Handle different status codes\r\n              switch (status) {\r\n                case 400:\r\n                  // Bad Request (400)\r\n                  if (data && data.errors) {\r\n                    Object.values(data.errors).flat().forEach(errorMessage => {\r\n                      showToast(`${errorMessage}`, 'error');\r\n                    });\r\n                  } else if (data && data.message) {\r\n                    showToast(`${data.message}`, 'error');\r\n                  } else {\r\n                    showToast('Bad Request. Please check your input.', 'error');\r\n                  }\r\n                  break;\r\n                  case 422:\r\n                  // Bad Request (400)\r\n                  if (data && data.errors) {\r\n                    Object.values(data.errors).flat().forEach(errorMessage => {\r\n                      showToast(`${errorMessage}`, 'error');\r\n                    });\r\n                  } else if (status && data && data.message) {\r\n                    showToast(`${data.message}`, 'error');\r\n                  } else {\r\n                    showToast('Bad Request. Please check your input.', 'error');\r\n                  }\r\n                  break;\r\n                case 500:\r\n                  // Internal Server Error (500)\r\n                  showToast('Internal Server Error. Please try again later.', 'error');\r\n                  break;\r\n                // Add more cases for other status codes as needed\r\n                default:\r\n                  // Display an error toast with the API response message\r\n                  showToast(data.message || 'An unexpected error occurred.', 'error');\r\n              }\r\n            } else if (error.request) {\r\n              // The request was made but no response was received\r\n              console.error(\"No response received from the server.\");\r\n          \r\n              showToast(\"No response from the server. Please try again.\", 'error');\r\n            } else {\r\n              // Something happened in setting up the request that triggered an error\r\n              console.error(\"An unexpected error occurred:\", error.message);\r\n          \r\n              // Display an error toast with the API response message if available\r\n              showToast(error.message || 'An unexpected error occurred.', {\r\n                appearance: \"error\",\r\n                autoDismiss: true,\r\n                autoDismissTimeout: 3000,\r\n              });\r\n            }\r\n            setSuccessMessage('');\r\n          } \r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className='md:m-8 my-8 overflow-hidden'>\r\n                <div className=\"md:p-16 py-16 px-8  md:bg-bg-green md:border-[#00BD7A40] bg-white border-white rounded-3xl border\">\r\n                    <div className='w-[350px] mt-6'>\r\n                        <form>\r\n                            <p className='text-gray-700 text-sm mb-2'>Phone</p>\r\n                            <input\r\n                                type=\"number\"\r\n                                value={phone}\r\n                                onChange={(e) => setPhone(e.target.value)}\r\n                                required\r\n                                placeholder='Enter your phone number'\r\n                                className='md:bg-bg-green bg-white border-[#D0D5DD] border rounded-lg h-14 w-full mb-6 p-4'\r\n                            />\r\n                            <div className='flex justify-center'>\r\n                                <button\r\n                                    type='button'\r\n                                    onClick={handleSubmit}\r\n                                    className=\"bg-color1 border rounded-lg h-14 w-full text-white mx-auto\"\r\n                                >\r\n                                    Reset password\r\n                                </button>\r\n                            </div>\r\n                            {successMessage && (\r\n                                <div className='flex justify-center mt-3 text-green-600'>\r\n                                    {successMessage}\r\n                                </div>\r\n                            )}\r\n                            <div className='flex justify-center mt-6'>\r\n                                <NavLink to=\"/signin\">\r\n                                    <p className='text-gray-500 text-xl font-xl'>\r\n                                        <i className=\"fa-solid fa-left-long px-4\"></i>Back to Login\r\n                                    </p>\r\n                                </NavLink>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default ForgotPass;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}