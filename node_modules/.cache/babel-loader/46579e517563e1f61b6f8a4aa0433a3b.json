{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Documents\\\\flexiMoney-web-app\\\\src\\\\features\\\\services\\\\loan\\\\RepaymentHistory.js\";\nimport React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport axios from \"axios\";\nimport { ThreeDots } from \"svg-loaders-react\";\nimport { connect } from \"react-redux\";\nimport { REPAYMENT_HISTORY } from \"../../../utils/constants\";\nimport styles from \"./RepaymentHistory.module.scss\";\nexport const RechargeCableForm = ({\n  agentUuid\n}) => {\n  const [history, setHistory] = useState([]);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    let isCancelled;\n    (async function getLoanHistory() {\n      setLoading(true);\n      const payload = {\n        identifier: agentUuid\n      };\n      try {\n        const res = await axios.post(REPAYMENT_HISTORY, payload);\n        const history = res.data.data;\n        if (res && !isCancelled) setHistory(history);\n      } catch (e) {\n        // console.log(e);\n      } finally {\n        setHistory([]);\n        setLoading(false);\n      }\n    })();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, history.length > 0 && !loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.transactions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: styles.transactionsHeading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }, \"Users\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.table,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.tableHeading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.sn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, \"S/N\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.principal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, \"Principal\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.interest,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }, \"Interest\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.payment,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  }, \"Payment\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.balance,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 15\n    }\n  }, \"Balance\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.due,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  }, \"Due date\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.tableBody,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, history.map((history, index) => {\n    const date = new Date(history.created_at).toDateString();\n    const formattedDate = date.slice(4);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.tableRow,\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.sn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 21\n      }\n    }, ++index, \".\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.principal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }\n    }, history.principal), /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.interest,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }\n    }, history.interest), /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.payment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 21\n      }\n    }, history.payment), /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.balance,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    }, history.balance), /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.due,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    }, history.due_date));\n  })))) : loading ? /*#__PURE__*/React.createElement(ThreeDots, {\n    fill: \"#3E215B\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: \"16px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 9\n    }\n  }, \"Nothing to display\"));\n};\nRechargeCableForm.propTypes = {\n  RechargeCableFormState: PropTypes.object.isRequired,\n  setFormState: PropTypes.func.isRequired,\n  setComponentToRender: PropTypes.func.isRequired\n};\nconst mapStateToProps = state => {\n  return {\n    agentUuid: state.auth.user.uuid\n  };\n};\nexport default connect(mapStateToProps)(RechargeCableForm);","map":{"version":3,"names":["React","useEffect","useState","PropTypes","axios","ThreeDots","connect","REPAYMENT_HISTORY","styles","RechargeCableForm","agentUuid","history","setHistory","loading","setLoading","isCancelled","getLoanHistory","payload","identifier","res","post","data","e","createElement","className","container","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","length","transactions","transactionsHeading","table","tableHeading","sn","principal","interest","payment","balance","due","tableBody","map","index","date","Date","created_at","toDateString","formattedDate","slice","tableRow","key","due_date","fill","style","fontSize","propTypes","RechargeCableFormState","object","isRequired","setFormState","func","setComponentToRender","mapStateToProps","state","auth","user","uuid"],"sources":["C:/Users/USER/Documents/flexiMoney-web-app/src/features/services/loan/RepaymentHistory.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport axios from \"axios\";\r\nimport { ThreeDots } from \"svg-loaders-react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { REPAYMENT_HISTORY } from \"../../../utils/constants\";\r\n\r\nimport styles from \"./RepaymentHistory.module.scss\";\r\n\r\nexport const RechargeCableForm = ({ agentUuid }) => {\r\n  const [history, setHistory] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    let isCancelled;\r\n\r\n    (async function getLoanHistory() {\r\n      setLoading(true);\r\n\r\n      const payload = {\r\n        identifier: agentUuid,\r\n      };\r\n      try {\r\n        const res = await axios.post(REPAYMENT_HISTORY, payload);\r\n        const history = res.data.data;\r\n\r\n        if (res && !isCancelled) setHistory(history);\r\n      } catch (e) {\r\n        // console.log(e);\r\n      } finally {\r\n        setHistory([]);\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      {history.length > 0 && !loading ? (\r\n        <div className={styles.transactions}>\r\n          <h3 className={styles.transactionsHeading}>Users</h3>\r\n          {/* <div className={styles.filter}>\r\n              <div className={styles.filterToggle}>\r\n                <span>Filter</span>\r\n                <img\r\n                  src={isOpen ? arrowDown : arrowUp}\r\n                  alt=\"\"\r\n                  onClick={() => {\r\n                    setIsOpen(!isOpen);\r\n                  }}\r\n                />\r\n              </div>\r\n              <div\r\n                className={\r\n                  isOpen ? `${styles.filters} ${styles.isOpen}` : styles.filters\r\n                }\r\n              >\r\n                <label className={styles.inputGroup}>\r\n                  <input\r\n                    className={styles.searchUsers}\r\n                    type=\"text\"\r\n                    placeholder=\"Search Users\"\r\n                  />\r\n                  <span>Search Users</span>\r\n                </label>\r\n                <label className={styles.inputGroup}>\r\n                  <select className={styles.filterUsers}>\r\n                    <option value=\"\">Type</option>\r\n                  </select>\r\n                </label>\r\n                <label className={styles.inputGroup}>\r\n                  <select className={styles.filterUsers}>\r\n                    <option value=\"\">Date Added</option>\r\n                  </select>\r\n                </label>\r\n              </div>\r\n            </div> */}\r\n          <div className={styles.table}>\r\n            <div className={styles.tableHeading}>\r\n              <span className={styles.sn}>S/N</span>\r\n              <span className={styles.principal}>Principal</span>\r\n              <span className={styles.interest}>Interest</span>\r\n              <span className={styles.payment}>Payment</span>\r\n              <span className={styles.balance}>Balance</span>\r\n              <span className={styles.due}>Due date</span>\r\n            </div>\r\n            <div className={styles.tableBody}>\r\n              {history.map((history, index) => {\r\n                const date = new Date(history.created_at).toDateString();\r\n                const formattedDate = date.slice(4);\r\n\r\n                return (\r\n                  <div className={styles.tableRow} key={index}>\r\n                    <span className={styles.sn}>{++index}.</span>\r\n                    <span className={styles.principal}>\r\n                      {history.principal}\r\n                    </span>\r\n                    <span className={styles.interest}>{history.interest}</span>\r\n                    <span className={styles.payment}>{history.payment}</span>\r\n                    <span className={styles.balance}>{history.balance}</span>\r\n                    <span className={styles.due}>{history.due_date}</span>\r\n                    {/* <div className={styles.action}>\r\n                      <label htmlFor={`menu${index}`}>\r\n                        <img className={styles.menu} src={menu} alt=\"\" />\r\n                      </label>\r\n                      <input\r\n                        name={`menu${index}`}\r\n                        id={`menu${index}`}\r\n                        type=\"checkbox\"\r\n                      />\r\n\r\n                      <div className={styles.actions}>\r\n                        <span\r\n                          className={`${styles.actionsItem} ${styles.actionsItemEdit}`}\r\n                        >\r\n                          Edit User\r\n                        </span>\r\n                        <span\r\n                          className={styles.actionsItem}\r\n                          onClick={() => {\r\n                            handleDeleteUser(user.id);\r\n                          }}\r\n                        >\r\n                          Deactivate User\r\n                        </span>\r\n                      </div>\r\n                    </div> */}\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : loading ? (\r\n        <ThreeDots fill=\"#3E215B\" />\r\n      ) : (\r\n        <div style={{ fontSize: \"16px\" }}>Nothing to display</div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nRechargeCableForm.propTypes = {\r\n  RechargeCableFormState: PropTypes.object.isRequired,\r\n  setFormState: PropTypes.func.isRequired,\r\n  setComponentToRender: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    agentUuid: state.auth.user.uuid,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(RechargeCableForm);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}