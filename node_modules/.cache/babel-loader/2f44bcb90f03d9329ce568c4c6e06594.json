{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Documents\\\\flexiMoney-web-app\\\\src\\\\features\\\\dashboard\\\\modal\\\\ConfirmTerminalModal\\\\index.jsx\";\nimport React from \"react\";\nimport money from \"../../../../assets/icons/Money.svg\";\nimport axios from \"../../../../utils/axiosInstance\";\nimport { useSelector } from 'react-redux';\nimport { useToasts } from 'react-toast-notifications';\nconst ConfirmTerminalModal = ({\n  isOpen,\n  onConfirm,\n  onCancel,\n  selectedTerminalId,\n  selectedSerialNumber,\n  agentName\n}) => {\n  // const agentId = useSelector((state) => state.auth.user?.id);\n  const {\n    addToast\n  } = useToasts();\n  console.log('agent name:', agentName);\n  const handleConfirmClick = async () => {\n    try {\n      // Make the API call to /agent/terminal with the selected values\n      const response = await axios.patch(\"/agent/terminal\", {\n        agent_id: agentName,\n        terminal_id: selectedTerminalId,\n        terminal_serial: selectedSerialNumber\n      });\n\n      // Check if the response status is successful\n      if (response.status === 201) {\n        // Handle the response as needed\n        console.log(\"API Response:\", response.data);\n        addToast(\"Terminal assigned successfully\", {\n          appearance: 'success',\n          autoDismiss: true,\n          autoDismissTimeout: 3000\n        });\n\n        // Trigger the onConfirm callback\n        onConfirm();\n      } else {\n        // Handle other types of errors\n        handleApiError(response);\n      }\n    } catch (error) {\n      // Handle network or other errors\n      handleApiError(error);\n    }\n  };\n  const handleApiError = error => {\n    console.error(\"Error confirming terminal:\", error);\n    if (error.response) {\n      // The request was made and the server responded with a status code\n      const {\n        status,\n        data\n      } = error.response;\n      if (status === 400 && data && data.message === \"Terminal already assigned\") {\n        addToast(\"Terminal already assigned\", {\n          appearance: 'error',\n          autoDismiss: true,\n          autoDismissTimeout: 3000\n        });\n      } else {\n        // Handle other types of errors\n        addToast(\"Error assigning terminal. Please try again.\", {\n          appearance: 'error',\n          autoDismiss: true,\n          autoDismissTimeout: 3000\n        });\n      }\n    } else {\n      // Handle other types of errors\n      addToast(\"Error assigning terminal. Please try again.\", {\n        appearance: 'error',\n        autoDismiss: true,\n        autoDismissTimeout: 3000\n      });\n    }\n\n    // Trigger the onConfirm callback\n    onConfirm();\n  };\n  console.log('selected transaction info: ', agentName);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `${isOpen ? \"opacity-100 visible\" : \"opacity-0 invisible\"} fixed inset-0 z-50 transition-opacity ease-in-out duration-300`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center justify-center min-h-screen\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-white rounded-lg overflow-hidden shadow-xl transform transition-all max-w-md w-full  text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-[#f9f9f9] px-12 py-6 text-white text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"text-2xl font-bold text-[#111023]\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, \"Assign Terminal\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-sm text-[#A59696]\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, \"Assign Terminal to the Agents to start transacting seamlessly\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full px-8 py-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex justify-center py-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: money,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, \"You\\u2019re assigning Terminal with ID \", selectedTerminalId, \" to \", agentName === null || agentName === void 0 ? void 0 : agentName.name, \" with the Serial No \", selectedSerialNumber)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex justify-center space-x-4 py-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"bg-progress-green text-white px-6 py-3 rounded-md hover:bg-bg-green hover:text-black\",\n    onClick: handleConfirmClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }, \"Confirm\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"bg-red-500 text-white px-6 py-3 rounded-md hover:bg-red-600\",\n    onClick: onCancel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }, \"Cancel\"))))));\n};\nexport default ConfirmTerminalModal;","map":{"version":3,"names":["React","money","axios","useSelector","useToasts","ConfirmTerminalModal","isOpen","onConfirm","onCancel","selectedTerminalId","selectedSerialNumber","agentName","addToast","console","log","handleConfirmClick","response","patch","agent_id","terminal_id","terminal_serial","status","data","appearance","autoDismiss","autoDismissTimeout","handleApiError","error","message","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","name","onClick"],"sources":["C:/Users/USER/Documents/flexiMoney-web-app/src/features/dashboard/modal/ConfirmTerminalModal/index.jsx"],"sourcesContent":["import React from \"react\";\r\nimport money from '../../../../assets/icons/Money.svg'\r\nimport axios from \"../../../../utils/axiosInstance\";\r\nimport { useSelector } from 'react-redux';\r\nimport { useToasts } from 'react-toast-notifications';\r\n\r\n\r\nconst ConfirmTerminalModal = ({ isOpen, onConfirm, onCancel, selectedTerminalId, selectedSerialNumber , agentName }) => {\r\n  // const agentId = useSelector((state) => state.auth.user?.id);\r\n  const { addToast } = useToasts();\r\nconsole.log('agent name:', agentName)\r\nconst handleConfirmClick = async () => {\r\n  try {\r\n    // Make the API call to /agent/terminal with the selected values\r\n    const response = await axios.patch(\"/agent/terminal\", {\r\n      agent_id: agentName,\r\n      terminal_id: selectedTerminalId,\r\n      terminal_serial: selectedSerialNumber,\r\n    });\r\n\r\n    // Check if the response status is successful\r\n    if (response.status === 201) {\r\n      // Handle the response as needed\r\n      console.log(\"API Response:\", response.data);\r\n      addToast(\"Terminal assigned successfully\", {\r\n        appearance: 'success',\r\n        autoDismiss: true,\r\n        autoDismissTimeout: 3000\r\n      });\r\n\r\n      // Trigger the onConfirm callback\r\n      onConfirm();\r\n    } else {\r\n      // Handle other types of errors\r\n      handleApiError(response);\r\n    }\r\n  } catch (error) {\r\n    // Handle network or other errors\r\n    handleApiError(error);\r\n  }\r\n};\r\n\r\nconst handleApiError = (error) => {\r\n  console.error(\"Error confirming terminal:\", error);\r\n\r\n  if (error.response) {\r\n    // The request was made and the server responded with a status code\r\n    const { status, data } = error.response;\r\n    if (status === 400 && data && data.message === \"Terminal already assigned\") {\r\n      addToast(\"Terminal already assigned\", {\r\n        appearance: 'error',\r\n        autoDismiss: true,\r\n        autoDismissTimeout: 3000\r\n      });\r\n    } else {\r\n      // Handle other types of errors\r\n      addToast(\"Error assigning terminal. Please try again.\", {\r\n        appearance: 'error',\r\n        autoDismiss: true,\r\n        autoDismissTimeout: 3000\r\n      });\r\n    }\r\n  } else {\r\n    // Handle other types of errors\r\n    addToast(\"Error assigning terminal. Please try again.\", {\r\n      appearance: 'error',\r\n      autoDismiss: true,\r\n      autoDismissTimeout: 3000\r\n    });\r\n  }\r\n\r\n  // Trigger the onConfirm callback\r\n  onConfirm();\r\n};\r\n\r\n\r\n  console.log('selected transaction info: ', agentName)\r\n  return (\r\n    <div\r\n      className={`${\r\n        isOpen ? \"opacity-100 visible\" : \"opacity-0 invisible\"\r\n      } fixed inset-0 z-50 transition-opacity ease-in-out duration-300`}\r\n    >\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <div className=\"bg-white rounded-lg overflow-hidden shadow-xl transform transition-all max-w-md w-full  text-center\">\r\n          <div className=\"\">\r\n          <div className=\"bg-[#f9f9f9] px-12 py-6 text-white text-center\">\r\n            <h2 className=\"text-2xl font-bold text-[#111023]\">Assign Terminal</h2>\r\n            <p className=\"text-sm text-[#A59696]\">Assign Terminal to the Agents to start transacting seamlessly</p>\r\n          </div>\r\n          <div className=\"w-full px-8 py-4\">\r\n            <div className=\"flex justify-center py-6\">\r\n                <img src={money} alt=\"\" />\r\n            </div>\r\n            <p>You’re assigning Terminal with ID {selectedTerminalId} to {agentName?.name} with the Serial No {selectedSerialNumber}</p>\r\n            {/* <p>You’re assigning Terminal to this agent</p> */}\r\n          </div>\r\n            <div className=\"flex justify-center space-x-4 py-4\">\r\n              <button\r\n                className=\"bg-progress-green text-white px-6 py-3 rounded-md hover:bg-bg-green hover:text-black\"\r\n                onClick={handleConfirmClick}\r\n              >\r\n                Confirm\r\n              </button>\r\n              <button\r\n                className=\"bg-red-500 text-white px-6 py-3 rounded-md hover:bg-red-600\"\r\n                onClick={onCancel}\r\n              >\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ConfirmTerminalModal;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}