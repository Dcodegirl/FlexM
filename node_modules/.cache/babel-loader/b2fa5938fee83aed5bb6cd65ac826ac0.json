{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Documents\\\\flexiMoney-web-app\\\\src\\\\features\\\\users\\\\AddUser.js\";\nimport React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { ThreeDots } from 'svg-loaders-react';\nimport Axios from 'axios';\nimport { useToasts } from 'react-toast-notifications';\nimport { setDisplayModal } from '../../actions/modal';\nimport logo from '../../assets/images/';\nimport { CREATE_SUB_USER } from '../../utils/constants';\nimport { setCurrentPage } from '../../actions/page';\nimport Form from '../../components/common/Form';\nimport FormGroup from '../../components/common/FormGroup';\nimport Input from '../../components/common/Input';\nimport Submit from '../../components/common/Button';\nexport const AddUser = ({\n  changeCurrentPage,\n  displayModal\n}) => {\n  const {\n    addToast\n  } = useToasts();\n  changeCurrentPage({\n    heading: 'Add User',\n    search: false\n  });\n  const [validationErrors, setValidationErrors] = useState({});\n  const [formState, setFormState] = useState({\n    email: '',\n    phone: '',\n    username: '',\n    limit: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const handleOnChange = e => {\n    e.preventDefault();\n    setFormState({\n      ...formState,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleOnSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n    (async function fetchWalletBalance() {\n      try {\n        const res = await Axios.post(CREATE_SUB_USER, formState);\n        addToast('User created successfully', {\n          appearance: 'success',\n          autoDismiss: false\n        });\n        displayModal({\n          overlay: false,\n          modal: '',\n          service: '',\n          modalIsUpdated: res.data.data.email\n        });\n        setLoading(false);\n      } catch (e) {\n        setLoading(false);\n        addToast('An error occured', {\n          appearance: 'error',\n          autoDismiss: false\n        });\n      }\n    })();\n  };\n  return /*#__PURE__*/React.createElement(Form, {\n    autoComplete: \"off\",\n    title: \"Create Sub Agent\",\n    caption: \"Complete sub agent information\",\n    handleOnSubmit: handleOnSubmit,\n    logo: logo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    name: \"phone\",\n    label: \"Phone\",\n    placeholder: \"Phone number\",\n    value: formState.phone,\n    type: \"text\",\n    handleOnChange: e => handleOnChange(e),\n    error: validationErrors.phone,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    name: \"email\",\n    label: \"Email\",\n    placeholder: \"Enter email\",\n    value: formState.email,\n    type: \"text\",\n    error: validationErrors.email,\n    handleOnChange: e => handleOnChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    name: \"username\",\n    label: \"Username\",\n    placeholder: \"Enter username\",\n    value: formState.username,\n    type: \"text\",\n    handleOnChange: e => handleOnChange(e),\n    error: validationErrors.username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    name: \"limit\",\n    label: \"Transaction Limit\",\n    placeholder: \"Transaction limit\",\n    error: validationErrors.limit,\n    value: formState.limit,\n    type: \"text\",\n    handleOnChange: e => handleOnChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Submit, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, loading ? /*#__PURE__*/React.createElement(ThreeDots, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 46\n    }\n  }) : 'Create'));\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    changeCurrentPage: payload => dispatch(setCurrentPage(payload)),\n    displayModal: payload => dispatch(setDisplayModal(payload))\n  };\n};\nexport default connect(undefined, mapDispatchToProps)(AddUser);","map":{"version":3,"names":["React","useState","connect","ThreeDots","Axios","useToasts","setDisplayModal","logo","CREATE_SUB_USER","setCurrentPage","Form","FormGroup","Input","Submit","AddUser","changeCurrentPage","displayModal","addToast","heading","search","validationErrors","setValidationErrors","formState","setFormState","email","phone","username","limit","loading","setLoading","handleOnChange","e","preventDefault","target","name","value","handleOnSubmit","fetchWalletBalance","res","post","appearance","autoDismiss","overlay","modal","service","modalIsUpdated","data","createElement","autoComplete","title","caption","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","label","placeholder","type","error","mapDispatchToProps","dispatch","payload","undefined"],"sources":["C:/Users/USER/Documents/flexiMoney-web-app/src/features/users/AddUser.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { ThreeDots } from 'svg-loaders-react';\r\nimport Axios from 'axios';\r\nimport { useToasts } from 'react-toast-notifications';\r\nimport { setDisplayModal } from '../../actions/modal';\r\n\r\nimport logo from '../../assets/images/';\r\n\r\nimport { CREATE_SUB_USER } from '../../utils/constants';\r\nimport { setCurrentPage } from '../../actions/page';\r\n\r\nimport Form from '../../components/common/Form';\r\nimport FormGroup from '../../components/common/FormGroup';\r\nimport Input from '../../components/common/Input';\r\nimport Submit from '../../components/common/Button';\r\n\r\nexport const AddUser = ({ changeCurrentPage, displayModal }) => {\r\n    const { addToast } = useToasts();\r\n    changeCurrentPage({\r\n        heading: 'Add User',\r\n        search: false,\r\n    });\r\n\r\n    const [validationErrors, setValidationErrors] = useState({});\r\n    const [formState, setFormState] = useState({\r\n        email: '',\r\n        phone: '',\r\n        username: '',\r\n        limit: '',\r\n    });\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleOnChange = (e) => {\r\n        e.preventDefault();\r\n\r\n        setFormState({ ...formState, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const handleOnSubmit = (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n\r\n        (async function fetchWalletBalance() {\r\n            try {\r\n                const res = await Axios.post(CREATE_SUB_USER, formState);\r\n\r\n                addToast('User created successfully', {\r\n                    appearance: 'success',\r\n                    autoDismiss: false,\r\n                });\r\n\r\n                displayModal({\r\n                    overlay: false,\r\n                    modal: '',\r\n                    service: '',\r\n                    modalIsUpdated: res.data.data.email,\r\n                });\r\n\r\n                setLoading(false);\r\n            } catch (e) {\r\n                setLoading(false);\r\n\r\n                addToast('An error occured', {\r\n                    appearance: 'error',\r\n                    autoDismiss: false,\r\n                });\r\n            }\r\n        })();\r\n    };\r\n\r\n    return (\r\n        <Form\r\n            autoComplete='off'\r\n            title='Create Sub Agent'\r\n            caption='Complete sub agent information'\r\n            handleOnSubmit={handleOnSubmit}\r\n            logo={logo}\r\n        >\r\n            <FormGroup>\r\n                <Input\r\n                    name='phone'\r\n                    label='Phone'\r\n                    placeholder='Phone number'\r\n                    value={formState.phone}\r\n                    type='text'\r\n                    handleOnChange={(e) => handleOnChange(e)}\r\n                    error={validationErrors.phone}\r\n                />\r\n            </FormGroup>\r\n            <FormGroup>\r\n                <Input\r\n                    name='email'\r\n                    label='Email'\r\n                    placeholder='Enter email'\r\n                    value={formState.email}\r\n                    type='text'\r\n                    error={validationErrors.email}\r\n                    handleOnChange={(e) => handleOnChange(e)}\r\n                />\r\n            </FormGroup>\r\n            <FormGroup>\r\n                <Input\r\n                    name='username'\r\n                    label='Username'\r\n                    placeholder='Enter username'\r\n                    value={formState.username}\r\n                    type='text'\r\n                    handleOnChange={(e) => handleOnChange(e)}\r\n                    error={validationErrors.username}\r\n                />\r\n            </FormGroup>\r\n            <FormGroup>\r\n                <Input\r\n                    name='limit'\r\n                    label='Transaction Limit'\r\n                    placeholder='Transaction limit'\r\n                    error={validationErrors.limit}\r\n                    value={formState.limit}\r\n                    type='text'\r\n                    handleOnChange={(e) => handleOnChange(e)}\r\n                />\r\n            </FormGroup>\r\n            <Submit type='submit'>{loading ? <ThreeDots /> : 'Create'}</Submit>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        changeCurrentPage: (payload) => dispatch(setCurrentPage(payload)),\r\n        displayModal: (payload) => dispatch(setDisplayModal(payload)),\r\n    };\r\n};\r\n\r\nexport default connect(undefined, mapDispatchToProps)(AddUser);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}