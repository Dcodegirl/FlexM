{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Documents\\\\flexiMoney-web-app\\\\src\\\\features\\\\dashboard\\\\modal\\\\ConfirmTerminalModal\\\\index.jsx\";\nimport React from \"react\";\nimport money from \"../../../../assets/icons/Money.svg\";\nimport axios from \"../../../../utils/axiosInstance\";\nimport { useSelector } from 'react-redux';\nimport { useToasts } from 'react-toast-notifications';\nconst ConfirmTerminalModal = ({\n  isOpen,\n  onConfirm,\n  onCancel,\n  selectedTerminalId,\n  selectedSerialNumber,\n  agentName\n}) => {\n  // const agentId = useSelector((state) => state.auth.user?.id);\n  const {\n    addToast\n  } = useToasts();\n  console.log('agent name:', agentName === null || agentName === void 0 ? void 0 : agentName.id);\n  const handleConfirmClick = async () => {\n    try {\n      // Make the API call to /agent/terminal with the selected values\n      const response = await axios.patch(\"/agent/terminal\", {\n        agent_id: agentName.id,\n        // Replace with the actual agent ID\n        terminal_id: selectedTerminalId,\n        terminal_serial: selectedSerialNumber\n      });\n\n      // Check if the response status is successful\n      if (response.status === 200) {\n        // Handle the response as needed\n        console.log(\"API Response:\", response.data);\n        addToast(\"Terminal assigned successfully\", {\n          appearance: 'success',\n          autoDismiss: true,\n          autoDismissTimeout: 3000\n        });\n\n        // Trigger the onConfirm callback\n        onConfirm();\n      } else {\n        // Handle the error, log it, or show a notification\n        console.error(\"Error confirming terminal. Unexpected response status:\", response.status);\n\n        // Check for specific error status code (e.g., 400 Bad Request)\n        if (response.status === 400) {\n          // Check for specific error message\n          const errorMessage = response.data && response.data.message;\n          if (errorMessage) {\n            addToast(errorMessage, {\n              appearance: 'error',\n              autoDismiss: true,\n              autoDismissTimeout: 3000\n            });\n            onConfirm();\n          } else {\n            addToast(\"Bad Request. Please check your input and try again.\", {\n              appearance: 'error',\n              autoDismiss: true,\n              autoDismissTimeout: 3000\n            });\n            onConfirm();\n          }\n        } else {\n          // Handle other types of errors\n          addToast(\"Error assigning terminal. Please try again.\", {\n            appearance: 'error',\n            autoDismiss: true,\n            autoDismissTimeout: 3000\n          });\n          onConfirm();\n        }\n      }\n    } catch (error) {\n      // Handle network or other errors\n      console.error(\"Error confirming terminal:\", error);\n\n      // Check if the error response includes validation errors\n      if (error.response && error.response.data && error.response.data.errors) {\n        const validationErrors = error.response.data.errors;\n\n        // Handle validation errors (e.g., show a notification to the user)\n        Object.values(validationErrors).forEach(errorMessages => {\n          errorMessages.forEach(errorMessage => {\n            addToast(errorMessage, {\n              appearance: 'error',\n              autoDismiss: true,\n              autoDismissTimeout: 3000\n            });\n          });\n        });\n        onConfirm();\n      } else {\n        // Handle other types of errors\n        addToast(\"Error assigning terminal. Please try again.\", {\n          appearance: 'error',\n          autoDismiss: true,\n          autoDismissTimeout: 3000\n        });\n        onConfirm();\n      }\n    }\n  };\n  console.log('selected transaction info: ', agentName);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `${isOpen ? \"opacity-100 visible\" : \"opacity-0 invisible\"} fixed inset-0 z-50 transition-opacity ease-in-out duration-300`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center justify-center min-h-screen\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-white rounded-lg overflow-hidden shadow-xl transform transition-all max-w-md w-full  text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-[#f9f9f9] px-12 py-6 text-white text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"text-2xl font-bold text-[#111023]\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, \"Assign Terminal\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-sm text-[#A59696]\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, \"Assign Terminal to the Agents to start transacting seamlessly\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full px-8 py-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex justify-center py-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: money,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, \"You\\u2019re assigning Terminal with ID \", selectedTerminalId, \" to \", agentName === null || agentName === void 0 ? void 0 : agentName.name, \" with the Serial No \", selectedSerialNumber)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex justify-center space-x-4 py-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"bg-progress-green text-white px-6 py-3 rounded-md hover:bg-bg-green hover:text-black\",\n    onClick: handleConfirmClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 15\n    }\n  }, \"Confirm\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"bg-red-500 text-white px-6 py-3 rounded-md hover:bg-red-600\",\n    onClick: onCancel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 15\n    }\n  }, \"Cancel\"))))));\n};\nexport default ConfirmTerminalModal;","map":{"version":3,"names":["React","money","axios","useSelector","useToasts","ConfirmTerminalModal","isOpen","onConfirm","onCancel","selectedTerminalId","selectedSerialNumber","agentName","addToast","console","log","id","handleConfirmClick","response","patch","agent_id","terminal_id","terminal_serial","status","data","appearance","autoDismiss","autoDismissTimeout","error","errorMessage","message","errors","validationErrors","Object","values","forEach","errorMessages","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","name","onClick"],"sources":["C:/Users/USER/Documents/flexiMoney-web-app/src/features/dashboard/modal/ConfirmTerminalModal/index.jsx"],"sourcesContent":["import React from \"react\";\r\nimport money from '../../../../assets/icons/Money.svg'\r\nimport axios from \"../../../../utils/axiosInstance\";\r\nimport { useSelector } from 'react-redux';\r\nimport { useToasts } from 'react-toast-notifications';\r\n\r\n\r\nconst ConfirmTerminalModal = ({ isOpen, onConfirm, onCancel, selectedTerminalId, selectedSerialNumber , agentName }) => {\r\n  // const agentId = useSelector((state) => state.auth.user?.id);\r\n  const { addToast } = useToasts();\r\nconsole.log('agent name:', agentName?.id)\r\nconst handleConfirmClick = async () => {\r\n  try {\r\n    // Make the API call to /agent/terminal with the selected values\r\n    const response = await axios.patch(\"/agent/terminal\", {\r\n      agent_id: agentName.id, // Replace with the actual agent ID\r\n      terminal_id: selectedTerminalId,\r\n      terminal_serial: selectedSerialNumber,\r\n    });\r\n\r\n    // Check if the response status is successful\r\n    if (response.status === 200) {\r\n      // Handle the response as needed\r\n      console.log(\"API Response:\", response.data);\r\n      addToast(\"Terminal assigned successfully\", {\r\n        appearance: 'success',\r\n        autoDismiss: true,\r\n        autoDismissTimeout: 3000\r\n      });\r\n\r\n      // Trigger the onConfirm callback\r\n      onConfirm();\r\n    } else {\r\n      // Handle the error, log it, or show a notification\r\n      console.error(\"Error confirming terminal. Unexpected response status:\", response.status);\r\n\r\n      // Check for specific error status code (e.g., 400 Bad Request)\r\n      if (response.status === 400) {\r\n        // Check for specific error message\r\n        const errorMessage = response.data && response.data.message;\r\n        if (errorMessage) {\r\n          addToast(errorMessage, {\r\n            appearance: 'error',\r\n            autoDismiss: true,\r\n            autoDismissTimeout: 3000\r\n          });\r\n          onConfirm();\r\n        } else {\r\n          addToast(\"Bad Request. Please check your input and try again.\", {\r\n            appearance: 'error',\r\n            autoDismiss: true,\r\n            autoDismissTimeout: 3000\r\n          });\r\n          onConfirm();\r\n        }\r\n      } else {\r\n        // Handle other types of errors\r\n        addToast(\"Error assigning terminal. Please try again.\", {\r\n          appearance: 'error',\r\n          autoDismiss: true,\r\n          autoDismissTimeout: 3000\r\n        });\r\n        onConfirm();\r\n      }\r\n    }\r\n  } catch (error) {\r\n    // Handle network or other errors\r\n    console.error(\"Error confirming terminal:\", error);\r\n\r\n    // Check if the error response includes validation errors\r\n    if (error.response && error.response.data && error.response.data.errors) {\r\n      const validationErrors = error.response.data.errors;\r\n\r\n      // Handle validation errors (e.g., show a notification to the user)\r\n      Object.values(validationErrors).forEach(errorMessages => {\r\n        errorMessages.forEach(errorMessage => {\r\n          addToast(errorMessage, { appearance: 'error', autoDismiss: true, autoDismissTimeout: 3000 });\r\n        });\r\n      });\r\n      onConfirm();\r\n    } else {\r\n      // Handle other types of errors\r\n      addToast(\"Error assigning terminal. Please try again.\", {\r\n        appearance: 'error',\r\n        autoDismiss: true,\r\n        autoDismissTimeout: 3000\r\n      });\r\n      onConfirm();\r\n    }\r\n  }\r\n};\r\n\r\n  console.log('selected transaction info: ', agentName)\r\n  return (\r\n    <div\r\n      className={`${\r\n        isOpen ? \"opacity-100 visible\" : \"opacity-0 invisible\"\r\n      } fixed inset-0 z-50 transition-opacity ease-in-out duration-300`}\r\n    >\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <div className=\"bg-white rounded-lg overflow-hidden shadow-xl transform transition-all max-w-md w-full  text-center\">\r\n          <div className=\"\">\r\n          <div className=\"bg-[#f9f9f9] px-12 py-6 text-white text-center\">\r\n            <h2 className=\"text-2xl font-bold text-[#111023]\">Assign Terminal</h2>\r\n            <p className=\"text-sm text-[#A59696]\">Assign Terminal to the Agents to start transacting seamlessly</p>\r\n          </div>\r\n          <div className=\"w-full px-8 py-4\">\r\n            <div className=\"flex justify-center py-6\">\r\n                <img src={money} alt=\"\" />\r\n            </div>\r\n            <p>You’re assigning Terminal with ID {selectedTerminalId} to {agentName?.name} with the Serial No {selectedSerialNumber}</p>\r\n            {/* <p>You’re assigning Terminal to this agent</p> */}\r\n          </div>\r\n            <div className=\"flex justify-center space-x-4 py-4\">\r\n              <button\r\n                className=\"bg-progress-green text-white px-6 py-3 rounded-md hover:bg-bg-green hover:text-black\"\r\n                onClick={handleConfirmClick}\r\n              >\r\n                Confirm\r\n              </button>\r\n              <button\r\n                className=\"bg-red-500 text-white px-6 py-3 rounded-md hover:bg-red-600\"\r\n                onClick={onCancel}\r\n              >\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ConfirmTerminalModal;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}