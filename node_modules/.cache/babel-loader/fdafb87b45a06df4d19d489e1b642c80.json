{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Documents\\\\flexiMoney-web-app\\\\src\\\\features\\\\services\\\\walletTransfer\\\\WalletTransferForm.js\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { VALIDATE_AGENT } from \"../../../utils/constants\";\nimport logo from \"../../../assets/images/flexbycico.svg\";\nimport Form from \"../../../components/common/Form\";\nimport FormGroup from \"../../../components/common/FormGroup\";\nimport Input from \"../../../components/common/Input\";\nimport Submit from \"../../../components/common/Button\";\nexport const WalletTransferForm = props => {\n  const {\n    dispatch,\n    state,\n    setStatus\n  } = props;\n  const [verificationLoading, setVerificationLoading] = useState(false);\n  const [error, setError] = useState(false);\n  useEffect(() => {\n    let isCancelled = false;\n    if (state.wallet_id.length > 9) {\n      setVerificationLoading(true);\n      (async function validateAgent() {\n        const {\n          wallet_id,\n          agent_name,\n          amount\n        } = state;\n        const req = {\n          wallet_id,\n          agent_name,\n          amount\n        };\n        try {\n          const res = await axios.post(VALIDATE_AGENT, req);\n          const agent_name = res.data.data.business_name;\n          setVerificationLoading(false);\n          if (!isCancelled) {\n            dispatch({\n              type: \"UPDATE_STATE\",\n              payload: {\n                agent_name\n              }\n            });\n          }\n        } catch (e) {\n          if (!isCancelled) {\n            dispatch({\n              type: \"UPDATE_STATE\",\n              payload: {\n                agent_name: \"\"\n              }\n            });\n          }\n          setError({\n            error: true,\n            text: \"Agent validation failed\"\n          });\n          setVerificationLoading(false);\n        }\n      })();\n    }\n    return () => {\n      isCancelled = true;\n    };\n  }, [state.wallet_id]);\n  const handleOnProceed = e => {\n    e.preventDefault();\n    setStatus(\"summary\");\n  };\n  const handleOnChange = ({\n    target\n  }) => {\n    dispatch({\n      type: \"UPDATE_STATE\",\n      payload: {\n        [target.name]: target.value\n      }\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    autoComplete: \"off\",\n    title: \"Wallet Transfer\",\n    caption: \"Complete your payment information\",\n    handleOnSubmit: handleOnProceed,\n    logo: logo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    label: \"Wallet ID\",\n    placeholder: \"Beneficiary's wallet ID\",\n    name: \"wallet_id\",\n    type: \"text\",\n    value: state.wallet_id,\n    handleOnChange: handleOnChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    name: \"agent_name\",\n    label: \"Recipient's name\",\n    type: \"text\",\n    readOnly: true,\n    value: state.agent_name,\n    handleOnChange: handleOnChange,\n    loading: verificationLoading,\n    error: error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    label: \"Amount\",\n    placeholder: \"Amount\",\n    name: \"amount\",\n    type: \"text\",\n    value: state.amount,\n    handleOnChange: handleOnChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Submit, {\n    type: \"submit\",\n    disabled: !state.amount || !state.wallet_id || !state.agent_name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, \"Submit\")));\n};\nexport default WalletTransferForm;","map":{"version":3,"names":["React","useEffect","useState","axios","VALIDATE_AGENT","logo","Form","FormGroup","Input","Submit","WalletTransferForm","props","dispatch","state","setStatus","verificationLoading","setVerificationLoading","error","setError","isCancelled","wallet_id","length","validateAgent","agent_name","amount","req","res","post","data","business_name","type","payload","e","text","handleOnProceed","preventDefault","handleOnChange","target","name","value","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","autoComplete","title","caption","handleOnSubmit","label","placeholder","readOnly","loading","disabled"],"sources":["C:/Users/USER/Documents/flexiMoney-web-app/src/features/services/walletTransfer/WalletTransferForm.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { VALIDATE_AGENT } from \"../../../utils/constants\";\r\nimport logo from \"../../../assets/images/flexbycico.svg\";\r\nimport Form from \"../../../components/common/Form\";\r\nimport FormGroup from \"../../../components/common/FormGroup\";\r\nimport Input from \"../../../components/common/Input\";\r\nimport Submit from \"../../../components/common/Button\";\r\n\r\nexport const WalletTransferForm = (props) => {\r\n  const { dispatch, state, setStatus } = props;\r\n  const [verificationLoading, setVerificationLoading] = useState(false);\r\n  const [error, setError] = useState(false);\r\n \r\n\r\n  useEffect(() => {\r\n    let isCancelled = false;\r\n\r\n    if (state.wallet_id.length > 9) {\r\n      setVerificationLoading(true);\r\n      (async function validateAgent() {\r\n        const { wallet_id, agent_name, amount} = state;\r\n\r\n        const req = {\r\n          wallet_id,\r\n          agent_name,\r\n          amount\r\n        };\r\n\r\n        try {\r\n          const res = await axios.post(VALIDATE_AGENT, req);\r\n\r\n          const agent_name = res.data.data.business_name;\r\n\r\n          setVerificationLoading(false);\r\n\r\n          if (!isCancelled) {\r\n            dispatch({\r\n              type: \"UPDATE_STATE\",\r\n              payload: { agent_name },\r\n            });\r\n          }\r\n        } catch (e) {\r\n          if (!isCancelled) {\r\n            dispatch({\r\n              type: \"UPDATE_STATE\",\r\n              payload: { agent_name: \"\" },\r\n            });\r\n          }\r\n          setError({\r\n            error: true,\r\n            text: \"Agent validation failed\",\r\n          });\r\n          setVerificationLoading(false);\r\n        }\r\n      })();\r\n    }\r\n\r\n    return () => {\r\n      isCancelled = true;\r\n    };\r\n  }, [state.wallet_id]);\r\n\r\n  const handleOnProceed = (e) => {\r\n    e.preventDefault();\r\n    setStatus(\"summary\");\r\n  };\r\n\r\n  const handleOnChange = ({ target }) => {\r\n    dispatch({\r\n      type: \"UPDATE_STATE\",\r\n      payload: { [target.name]: target.value },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Form\r\n        autoComplete=\"off\"\r\n        title=\"Wallet Transfer\"\r\n        caption=\"Complete your payment information\"\r\n        handleOnSubmit={handleOnProceed}\r\n        logo={logo}\r\n      >\r\n        {/* <div className={styles.imageContainer}>\r\n          <img src={wallet} className={styles.image} alt=\"\" />\r\n        </div> */}\r\n        <FormGroup>\r\n          <Input\r\n            label=\"Wallet ID\"\r\n            placeholder=\"Beneficiary's wallet ID\"\r\n            name=\"wallet_id\"\r\n            type=\"text\"\r\n            value={state.wallet_id}\r\n            handleOnChange={handleOnChange}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Input\r\n            name=\"agent_name\"\r\n            label=\"Recipient's name\"\r\n            type=\"text\"\r\n            readOnly={true}\r\n            value={state.agent_name}\r\n            handleOnChange={handleOnChange}\r\n            loading={verificationLoading}\r\n            error={error}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Input\r\n            label=\"Amount\"\r\n            placeholder=\"Amount\"\r\n            name=\"amount\"\r\n            type=\"text\"\r\n            value={state.amount}\r\n            handleOnChange={handleOnChange}\r\n          />\r\n        </FormGroup>\r\n        <Submit\r\n          type=\"submit\"\r\n          disabled={!state.amount || !state.wallet_id || !state.agent_name}\r\n        >\r\n          Submit\r\n        </Submit>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WalletTransferForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}