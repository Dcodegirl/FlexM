{"ast":null,"code":"import axios from './axiosInstance';\nimport { startLogout } from '../actions/auth';\nimport store from '../store/configureStore';\nimport history from '../utils/history';\n// import addToast from './toastUtils';// Import the addToast function from the utility file\n\nconst {\n  dispatch\n} = store();\nexport const authMiddleware = () => {\n  return axios.interceptors.response.use(response => {\n    return response;\n  }, error => {\n    // if (error.response && error.response.status === 401) {\n    //   dispatch(startLogout());\n    //   // addToast(\"Active Session expired, please log in to continue\", {\n    //   //   appearance: 'error',\n    //   //   autoDismiss: true,\n    //   //   autoDismissTimeout: 3000,\n    //   // });\n    //   window.location.replace('/login');\n    // }\n    return Promise.reject(error);\n  });\n};","map":{"version":3,"names":["axios","startLogout","store","history","dispatch","authMiddleware","interceptors","response","use","error","Promise","reject"],"sources":["C:/Users/USER/Documents/flexiMoney-web-app/src/utils/authMiddleware.js"],"sourcesContent":["import axios from './axiosInstance';\r\nimport { startLogout } from '../actions/auth';\r\nimport store from '../store/configureStore';\r\nimport history from '../utils/history';\r\n// import addToast from './toastUtils';// Import the addToast function from the utility file\r\n\r\nconst { dispatch } = store();\r\n\r\nexport const authMiddleware = () => {\r\n  return axios.interceptors.response.use(\r\n    (response) => {\r\n      return response;\r\n    },\r\n    (error) => {\r\n      // if (error.response && error.response.status === 401) {\r\n      //   dispatch(startLogout());\r\n      //   // addToast(\"Active Session expired, please log in to continue\", {\r\n      //   //   appearance: 'error',\r\n      //   //   autoDismiss: true,\r\n      //   //   autoDismissTimeout: 3000,\r\n      //   // });\r\n      //   window.location.replace('/login');\r\n      // }\r\n      return Promise.reject(error);\r\n    }\r\n  );\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,iBAAiB;AACnC,SAASC,WAAW,QAAQ,iBAAiB;AAC7C,OAAOC,KAAK,MAAM,yBAAyB;AAC3C,OAAOC,OAAO,MAAM,kBAAkB;AACtC;;AAEA,MAAM;EAAEC;AAAS,CAAC,GAAGF,KAAK,CAAC,CAAC;AAE5B,OAAO,MAAMG,cAAc,GAAGA,CAAA,KAAM;EAClC,OAAOL,KAAK,CAACM,YAAY,CAACC,QAAQ,CAACC,GAAG,CACnCD,QAAQ,IAAK;IACZ,OAAOA,QAAQ;EACjB,CAAC,EACAE,KAAK,IAAK;IACT;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;EAC9B,CACF,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"module"}