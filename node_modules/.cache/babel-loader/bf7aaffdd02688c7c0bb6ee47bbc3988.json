{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Documents\\\\flexiMoney-web-app\\\\src\\\\features\\\\dashboard\\\\ChartChad\\\\index.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { BarChart, Bar, CartesianGrid, XAxis, YAxis, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport axios from '../../../utils/axiosInstance';\nconst ChartChad = ({\n  period,\n  onLoadingChange\n}) => {\n  const [chartData, setChartData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const response = await axios.get(`/tranxanalysis?period=${period}`);\n        const {\n          status,\n          data\n        } = response.data;\n        if (status === 'Successful') {\n          // Format data based on period\n          const formattedData = period === 'weekly' ? data.days.map((day, index) => ({\n            name: day,\n            pv: data.amount[index]\n          })) : period === 'monthly' ? data.month.map((month, index) => ({\n            name: month,\n            pv: parseFloat(data.amount[index])\n          })) : period === 'yearly' ? data.year.map((year, index) => ({\n            name: String(year),\n            pv: parseFloat(data.amount[index])\n          })) : [];\n          setChartData(formattedData);\n        } else {\n          console.error('Error fetching data:', data.message);\n        }\n      } catch (error) {\n        console.error('Error fetching data:', error.message);\n      } finally {\n        setLoading(false);\n        // Notify the parent component about the loading state change\n        onLoadingChange && onLoadingChange(loading);\n      }\n    };\n    fetchData();\n  }, [period, onLoadingChange]);\n  return /*#__PURE__*/React.createElement(ResponsiveContainer, {\n    width: \"100%\",\n    height: 300,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(BarChart, {\n    width: 500,\n    height: 300,\n    data: chartData,\n    margin: {\n      top: 5,\n      right: 10,\n      left: 10,\n      bottom: 5\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CartesianGrid, {\n    strokeDasharray: \"3 3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(XAxis, {\n    dataKey: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(YAxis, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Tooltip, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Legend, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Bar, {\n    dataKey: \"pv\",\n    fill: \"#3E215B\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  })));\n};\nexport default ChartChad;","map":{"version":3,"names":["React","useState","useEffect","BarChart","Bar","CartesianGrid","XAxis","YAxis","Tooltip","Legend","ResponsiveContainer","axios","ChartChad","period","onLoadingChange","chartData","setChartData","loading","setLoading","fetchData","response","get","status","data","formattedData","days","map","day","index","name","pv","amount","month","parseFloat","year","String","console","error","message","createElement","width","height","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","margin","top","right","left","bottom","strokeDasharray","dataKey","fill"],"sources":["C:/Users/USER/Documents/flexiMoney-web-app/src/features/dashboard/ChartChad/index.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { BarChart, Bar, CartesianGrid, XAxis, YAxis, Tooltip, Legend, ResponsiveContainer } from 'recharts';\r\nimport axios from '../../../utils/axiosInstance';\r\n\r\nconst ChartChad = ({ period, onLoadingChange }) => {\r\n  const [chartData, setChartData] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const response = await axios.get(`/tranxanalysis?period=${period}`);\r\n        const { status, data } = response.data;\r\n\r\n        if (status === 'Successful') {\r\n            // Format data based on period\r\n            const formattedData =\r\n              period === 'weekly'\r\n                ? data.days.map((day, index) => ({ name: day, pv: data.amount[index] }))\r\n                : period === 'monthly'\r\n                ? data.month.map((month, index) => ({ name: month, pv: parseFloat(data.amount[index]) }))\r\n                : period === 'yearly'\r\n                ? data.year.map((year, index) => ({ name: String(year), pv: parseFloat(data.amount[index]) }))\r\n                : [];\r\n  \r\n            setChartData(formattedData);\r\n          } else {\r\n            console.error('Error fetching data:', data.message);\r\n          }\r\n        } catch (error) {\r\n          console.error('Error fetching data:', error.message);\r\n        }finally {\r\n            setLoading(false);\r\n            // Notify the parent component about the loading state change\r\n            onLoadingChange && onLoadingChange(loading);\r\n          }\r\n        };\r\n\r\n    fetchData();\r\n  }, [period, onLoadingChange]);\r\n\r\n  return (\r\n    <ResponsiveContainer width=\"100%\" height={300}>\r\n      <BarChart\r\n        width={500}\r\n        height={300}\r\n        data={chartData}\r\n        margin={{\r\n          top: 5,\r\n          right: 10,\r\n          left: 10,\r\n          bottom: 5,\r\n        }}\r\n      >\r\n        <CartesianGrid strokeDasharray=\"3 3\" />\r\n        <XAxis dataKey=\"name\" />\r\n        <YAxis />\r\n        <Tooltip />\r\n        <Legend />\r\n        <Bar dataKey=\"pv\" fill=\"#3E215B\" />\r\n      </BarChart>\r\n    </ResponsiveContainer>\r\n  );\r\n};\r\n\r\nexport default ChartChad;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}